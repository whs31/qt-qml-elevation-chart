variables:
  GIT_SUBMODULE_STRATEGY: recursive
  GIT_DEPTH: 100
  PKG_VER: 0.0.0

include:
  - local: /.gitlab/alse.yml
  - local: /.gitlab/win64.yml

stages:
  - build

doxygen:
    stage: build
    tags: [doxygen]
    script:
      - doxygen -u
      - doxygen
      - mkdir -p /usr/share/nginx/html/site/sites-available/$CI_PROJECT_NAME
      - rm -rdf /usr/share/nginx/html/site/sites-available/$CI_PROJECT_NAME/*
      - mv -f $PWD/docs/* /usr/share/nginx/html/site/sites-available/$CI_PROJECT_NAME
      - cd /usr/share/nginx/html/site/py && python3 ./main.py
    when: manual


